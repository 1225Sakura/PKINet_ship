# PKINet èˆ¹èˆ¶æ£€æµ‹è®­ç»ƒç»“æœæŠ¥å‘Š

**è®­ç»ƒæ—¥æœŸ**: 2025-12-06 ~ 2025-12-07
**é¢„è®­ç»ƒæ¨¡å‹**: checkpoints/pkinet_s_pretrain.pth
**è®­ç»ƒæ¡†æ¶**: MMRotate + PyTorch 1.11.0

______________________________________________________________________

## ğŸ“Š ç²¾åº¦æ±‡æ€»

### 1. LAFIæ•°æ®é›† (49ä¸ªèˆ¹èˆ¶ç±»åˆ«)

**æ•°æ®é›†ä¿¡æ¯**:

- è®­ç»ƒæ ·æœ¬: 5,120å¼ å›¾åƒ
- éªŒè¯æ ·æœ¬: 1,280å¼ å›¾åƒ
- ç±»åˆ«æ•°: 49 (åŒ…æ‹¬Nimitz, Enterprise, Perry_FFç­‰)

**è®­ç»ƒç»“æœ**:

| Epoch | mAP   | è¯´æ˜     |
| ----- | ----- | -------- |
| 3     | 0.146 | æ—©æœŸéªŒè¯ |
| 6     | 0.268 | æœ€ä½³ç»“æœ |

- **æœ€ä½³mAP**: **26.79%** (Epoch 6)
- **çŠ¶æ€**: æå‰åœæ­¢ (è®­ç»ƒè‡³Epoch 8)
- **æ¨¡å‹è·¯å¾„**: `work_dirs/pkinet-s_lafi_ship/epoch_8.pth`
- **é…ç½®æ–‡ä»¶**: `configs/pkinet/pkinet-s_lafi_ship.py`

______________________________________________________________________

### 2. DOTA Shipæ•°æ®é›† (1ä¸ªç±»åˆ«: ship)

**æ•°æ®é›†ä¿¡æ¯**:

- è®­ç»ƒæ ·æœ¬: 326å¼ å›¾åƒ (28,068ä¸ªèˆ¹èˆ¶å®ä¾‹)
- éªŒè¯æ ·æœ¬: 108å¼ å›¾åƒ (8,960ä¸ªèˆ¹èˆ¶å®ä¾‹)
- ç±»åˆ«æ•°: 1 (ship)

**è®­ç»ƒç»“æœ**:

| Epoch | mAP   | æå‡   |
| ----- | ----- | ------ |
| 3     | 0.195 | -      |
| 6     | 0.359 | +16.4% |
| 9     | 0.397 | +3.8%  |
| 12    | 0.411 | +1.4%  |
| 15    | 0.415 | +0.3%  |
| 18    | 0.425 | +1.0%  |
| 21    | 0.430 | +0.4%  |
| 24    | 0.429 | -0.1%  |
| 27    | 0.430 | +0.1%  |
| 30    | 0.429 | -0.1%  |

- **æœ€ä½³mAP**: **43.04%** (Epoch 27)
- **çŠ¶æ€**: å®Œæ•´è®­ç»ƒ30ä¸ªepoch
- **æ¨¡å‹è·¯å¾„**: `work_dirs/pkinet-s_dota_ship/epoch_30.pth`
- **é…ç½®æ–‡ä»¶**: `configs/pkinet/pkinet-s_dota_ship.py`

______________________________________________________________________

### 3. DOSRæ•°æ®é›† (20ä¸ªèˆ¹èˆ¶ç±»åˆ«)

**æ•°æ®é›†ä¿¡æ¯**:

- è®­ç»ƒæ ·æœ¬: 523å¼ å›¾åƒ
- éªŒè¯æ ·æœ¬: 223å¼ å›¾åƒ
- ç±»åˆ«æ•°: 20 (åŒ…æ‹¬tanker, cargo, submarineç­‰)

**è®­ç»ƒç»“æœ**:

| Epoch | mAP   | æå‡   |
| ----- | ----- | ------ |
| 3     | 0.092 | -      |
| 6     | 0.207 | +11.5% |
| 9     | 0.307 | +10.0% |
| 12    | 0.390 | +8.3%  |
| 15    | 0.393 | +0.2%  |
| 18    | 0.461 | +6.9%  |
| 21    | 0.494 | +3.2%  |
| 24    | 0.501 | +0.7%  |
| 27    | 0.512 | +1.1%  |
| 30    | 0.505 | -0.7%  |

- **æœ€ä½³mAP**: **51.23%** (Epoch 27)
- **çŠ¶æ€**: å®Œæ•´è®­ç»ƒ30ä¸ªepoch
- **æ¨¡å‹è·¯å¾„**: `work_dirs/pkinet-s_dosr_ship/epoch_30.pth`
- **é…ç½®æ–‡ä»¶**: `configs/pkinet/pkinet-s_dosr_ship.py`

______________________________________________________________________

## ğŸ¯ æ€§èƒ½å¯¹æ¯”

| æ•°æ®é›†    | ç±»åˆ«æ•° | è®­ç»ƒæ ·æœ¬ | æœ€ä½³mAP | æœ€ä½³Epoch | æ”¶æ•›çŠ¶æ€ |
| --------- | ------ | -------- | ------- | --------- | -------- |
| LAFI      | 49     | 5,120    | 26.79%  | 6         | æå‰åœæ­¢ |
| DOTA Ship | 1      | 326      | 43.04%  | 27        | å·²æ”¶æ•›   |
| DOSR      | 20     | 523      | 51.23%  | 30        | æ¥è¿‘æ”¶æ•› |

**å…³é”®å‘ç°**:

1. **DOSRè¡¨ç°æœ€ä½³** (51.23% mAP) - å°½ç®¡ç±»åˆ«æ•°è¾ƒå¤š(20ç±»)ï¼Œä½†æ•°æ®è´¨é‡å¥½
2. **DOTA Shipæ¬¡ä¹‹** (43.04% mAP) - å•ç±»åˆ«æ£€æµ‹ï¼Œç²¾åº¦ç¨³å®š
3. **LAFIæœ€å…·æŒ‘æˆ˜** (26.79% mAP) - 49ä¸ªç»†ç²’åº¦ç±»åˆ«ï¼Œéœ€è¦æ›´é•¿æ—¶é—´è®­ç»ƒ

______________________________________________________________________

## ğŸ“ å¯è§†åŒ–ç»“æœ

### é¢„æµ‹ç»“æœå›¾åƒä½ç½®:

1. **LAFIæ•°æ®é›†**: `work_dirs/vis_results/lafi/`

   - åŒ…å«10å¼ ç¤ºä¾‹é¢„æµ‹ç»“æœ
   - æ–‡ä»¶å: `result_000_*.png` ~ `result_009_*.png`

2. **DOTA Shipæ•°æ®é›†**: `work_dirs/vis_results/dota_ship/`

   - åŒ…å«10å¼ ç¤ºä¾‹é¢„æµ‹ç»“æœ
   - æ–‡ä»¶å: `result_000_P*.png` ~ `result_009_P*.png`

3. **DOSRæ•°æ®é›†**: `work_dirs/vis_results/dosr/`

   - åŒ…å«10å¼ ç¤ºä¾‹é¢„æµ‹ç»“æœ
   - æ–‡ä»¶å: `result_000_*.png` ~ `result_009_*.png`

______________________________________________________________________

## ğŸ”§ è®­ç»ƒé…ç½®

### é€šç”¨é…ç½®:

- **Backbone**: PKINet-S (é¢„è®­ç»ƒ)
- **Neck**: FPN
- **Head**: Oriented R-CNN
- **ä¼˜åŒ–å™¨**: AdamW (lr=0.0002, weight_decay=0.05)
- **Batch Size**: 2 per GPU
- **å­¦ä¹ ç‡ç­–ç•¥**: Step decay (warmup 500 iters)
- **æ•°æ®å¢å¼º**: RResize, RRandomFlip (horizontal, vertical, diagonal)
- **å›¾åƒå°ºå¯¸**: 1024Ã—1024

### ç¡¬ä»¶é…ç½®:

- **GPU**: 4Ã— NVIDIA GeForce RTX 4090
- **CUDA**: 11.3
- **è®­ç»ƒæ¨¡å¼**: å•GPUè®­ç»ƒ (gpu_ids=\[0\])

______________________________________________________________________

## ğŸ“ ä½¿ç”¨è¯´æ˜

### æŸ¥çœ‹é¢„æµ‹ç»“æœ:

```bash
# æŸ¥çœ‹LAFIç»“æœ
ls work_dirs/vis_results/lafi/

# æŸ¥çœ‹DOTA Shipç»“æœ
ls work_dirs/vis_results/dota_ship/

# æŸ¥çœ‹DOSRç»“æœ
ls work_dirs/vis_results/dosr/
```

### æµ‹è¯•æ–°å›¾åƒ:

```bash
# ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œæ¨ç†
python tools/test.py configs/pkinet/pkinet-s_dosr_ship.py \
    work_dirs/pkinet-s_dosr_ship/latest.pth \
    --show-dir test_results/
```

### ç»§ç»­è®­ç»ƒ:

```bash
# å¦‚æœéœ€è¦ç»§ç»­è®­ç»ƒLAFI (ä»epoch 8ç»§ç»­)
python tools/train.py configs/pkinet/pkinet-s_lafi_ship.py \
    --resume-from work_dirs/pkinet-s_lafi_ship/latest.pth \
    --gpu-ids 0
```

______________________________________________________________________

## ğŸ“ ç»“è®ºä¸å»ºè®®

1. **DOSRæ•°æ®é›†**è¡¨ç°å‡ºè‰²ï¼Œå»ºè®®:

   - æ¨¡å‹å·²åŸºæœ¬æ”¶æ•›ï¼Œå¯ç›´æ¥ç”¨äºå®é™…åº”ç”¨
   - å¯å°è¯•æ›´å¤§çš„backbone (PKINet-M/L) è¿›ä¸€æ­¥æå‡æ€§èƒ½

2. **DOTA Shipæ•°æ®é›†**å·²å®Œå…¨æ”¶æ•›:

   - å•ç±»åˆ«æ£€æµ‹ç²¾åº¦è‰¯å¥½
   - é€‚åˆä½œä¸ºé€šç”¨èˆ¹èˆ¶æ£€æµ‹baseline

3. **LAFIæ•°æ®é›†**éœ€è¦æ”¹è¿›:

   - 49ä¸ªç»†ç²’åº¦ç±»åˆ«è¾ƒä¸ºå›°éš¾
   - å»ºè®®å»¶é•¿è®­ç»ƒè‡³30ä¸ªepoch
   - å¯è€ƒè™‘ä½¿ç”¨ç±»åˆ«å¹³è¡¡ç­–ç•¥æˆ–focal loss

______________________________________________________________________

**ç”Ÿæˆæ—¶é—´**: 2025-12-07
**æŠ¥å‘Šç‰ˆæœ¬**: v1.0
